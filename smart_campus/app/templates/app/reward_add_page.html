{% extends 'app/base.html' %}
{% load static %}
{% block stylesheet %}
	{{ block.super }}
{% endblock %}

{% block content%}
<div class="ui text container">
	<form class="ui big borderless form" action="" method="POST" id="reward_form">
		{% csrf_token %}
		<div class="required five wide field">
			<label>獎勵名稱</label>
			<input type="text" name="name" placeholder="類別名稱">
		</div>
		<div class="required field">
			<label>獎勵描述</label>
			<textarea rows="2" form="reward_form" name="description" placeholder="類別描述"></textarea>
		</div>
		<div class="required five wide field">
			<label>圖片上傳</label>
			<div class="ui action input">
				<input type="text" placeholder="img 1" readonly="">
				<input id="img" name="img" type="file" accept="image/*" style="display: none;">
				<div class="ui icon button">
					<i class="attach icon"></i>
				</div>
			</div>
		</div>
		<button class="ui submit teal button" type="submit">新增</button>
		<div class="ui error message"></div>
	</form>
</div>
{% endblock %}

{% block script %}
	{{ block.super }}
	<script>
		$(".ui.icon.button").click(function () {
			$(this).parent().find("input:file").click();
		});

		$('input:file', '.ui.action.input')
			.on('change', function (e) {
				var name = e.target.files[0].name;
				$('input:text', $(e.target).parent()).val(name);
			});
		$('.ui.radio.checkbox')
			.checkbox();
    $(document).ready(function() {
      $(".ui.form").form({
        fields: {
          name: {
            identifier: "name",
            rules: [
              {
                type: "empty",
                prompt: "請輸入類別名稱"
              }
            ]
          },
					description: {
						identifier: "description",
						rules: [
							{
								type: "empty",
								prompt: "請輸入描述"
							}
						]
					},
					img: {
						identifier: "img",
						rules: [
							{
								type: "empty",
								prompt: "請上傳圖片"
							}
						]
					}
        }
      });
    });
	</script>
{% endblock %}